<!--<div *ngIf="loading" class="lds-roller"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>-->


<div *ngIf="introductionMode">
  <p align="center"> Enter Story Title:

    <input type="text" [(ngModel)]="story.title">
    <br>
  </p>

  <br><br>
  <h2 align="center">Select Characters</h2>

  <br><br>

  <section class="example-section">
    <mat-checkbox class="example-margin" *ngFor="let item of defaults;let i=index" [(ngModel)]="checkBoxes[i]">
      <img src={{defaults[i]}} [width]="100" [height]="100">
    </mat-checkbox>
  </section>

  <br><br>

  <div>
    <a class="button" (click)="generateStory()"> Continue Story </a>
  </div>

</div>

<div *ngIf="buildMode">
  <h4> Scene number: {{scene_number}} </h4>
  <div id="OuterDiv1">

    <div class="leftpane">
      <div *ngIf="data && data.imageRequest1 && data.imageRequest1.blob">
        <img [src]="data.imageRequest1.blob" [width]="200" [height]="300">
      </div>
      <!--<a routerLink="/story-builder" class="button">Previous Scene</a>-->
    </div>
    <div class="middlepane">
      <p>{{data.markov_dialog_1}}</p>
      <br>
      <textarea [(ngModel)]="data.user_entered_dialogue1" class="textArea" id="textArea1" rows="4" cols="55"
                placeholder="Enter first dialogue"></textarea>
      <br>
      <p>{{data.markov_dialog_2}}</p>
      <br>
      <textarea [(ngModel)]="data.user_entered_dialogue2" class="textArea" id="textArea2" rows="4" cols="55"
                placeholder="Enter second dialogue"></textarea>

      <br><br><br><br><br><br><br>
      <div align="center">
        <a *ngIf="prevButtonFlag" style="padding-right: 5px" class="btn btn-primary" (click)="prevClicked()">Previous</a>
        <a class="btn btn-primary" (click)="completeStory()">Complete Story</a>
        <a class="btn btn-primary" (click)="nextClicked()"> Next </a>
      </div>
    </div>
    <div class="rightpane">

      <div *ngIf="data && data.imageRequest2 && data.imageRequest2.blob">
        <img style="transform: rotateY(180deg)" [src]="data.imageRequest2.blob" [width]="200" [height]="300">
      </div>
      <!--<a routerLink="/story-builder" class="button">Add scene</a>-->
    </div>
  </div>
</div>

<div *ngIf="selectionMode">
  <div align="center">
    <button class="btn btn-outline-success btn-block" (click)="viewHTMLClicked()"> View HTML </button>
    <br><br>
    <button class="btn btn-outline-success btn-block" (click)="viewXMLClicked()"> View XML </button>
    <br><br>

    <a class="btn btn-outline-primary btn-block" (click)="returnClicked()" > Return to Story Edit </a>

  </div>
</div>

&nbsp; &nbsp; &nbsp;
<div *ngIf="viewHTMLMode">

  <div style="font-family: Arial" id="OuterDiv2">
    <br>
    <h2 align="center">{{storyTitle}}</h2>
    <br><br>
    <!--<p> {{introduction}} </p>-->
    <table style="width: revert">
      <tbody>
      <tr *ngFor="let dummy of ' '.repeat(number_of_scenes).split(''); let i = index">
        <td><img [src]="imageRequests[2*i].blob" [width]="200" [height]="300"></td>
        <td>
          {{markovGeneratedTexts[2*i]}}
          <br>
          {{userEnteredText[2*i]}}
          <br>
          {{markovGeneratedTexts[2*i + 1]}}
          <br>
          {{userEnteredText[2*i + 1]}}
          <br>
        </td>
        <td>
          <img style="transform: rotateY(180deg)" [src]="imageRequests[2*i + 1].blob" [width]="200" [height]="300">
        </td>
        <hr>
      </tr>
      </tbody>
    </table>

  </div>

</div>

<div *ngIf="viewXMLMode">

  <p>


    <!--<tr *ngFor="let sentence in ret; let i = index">-->
    {{xml_file}}

  </p>


</div>

