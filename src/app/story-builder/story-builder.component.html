<div *ngIf="buildMode">
<h4> Scene number: {{scene_number}} </h4>
<div id="OuterDiv1">

  <div class="leftpane">
    <div *ngIf="data && data.imageRequest1 && data.imageRequest1.blob">
      <img [src]="data.imageRequest1.blob" [width]="200" [height]="300">
    </div>
    <!--<a routerLink="/story-builder" class="button">Previous Scene</a>-->
  </div>
  <div class="middlepane">
    <p>{{data.markov_dialog_1}}</p>
    <br>
    <textarea [(ngModel)]="data.user_entered_dialogue1" class="textArea" id="textArea1" rows="4" cols="55"
              placeholder="Enter first dialogue"></textarea>
    <br>
    <p>{{data.markov_dialog_2}}</p>
    <br>
    <textarea [(ngModel)]="data.user_entered_dialogue2" class="textArea" id="textArea2" rows="4" cols="55"
              placeholder="Enter second dialogue"></textarea>

    <br><br><br><br><br><br><br>
    <div align="center">
      <a *ngIf="prevButtonFlag" style="padding-right: 5px" routerLink="/story-builder" class="btn btn-primary" (click)="prevClicked()">Previous</a>
      <a class="btn btn-primary" (click)="completeStory()">Complete Story</a>
      <a routerLink="/story-builder" class="btn btn-primary" (click)="nextClicked()"> Next </a>
    </div>
  </div>
  <div class="rightpane">

    <div *ngIf="data && data.imageRequest2 && data.imageRequest2.blob">
      <img [src]="data.imageRequest2.blob" [width]="200" [height]="300">
    </div>
    <!--<a routerLink="/story-builder" class="button">Add scene</a>-->
  </div>
</div>
</div>

<div *ngIf="selectionMode">
  <div align="center">
    <button class="btn btn-outline-success btn-block" (click)="viewHTMLClicked()"> View HTML </button>
    <br><br>
    <button class="btn btn-outline-success btn-block" (click)="viewXMLClicked()"> View XML </button>
    <br><br>

    <a class="btn btn-outline-primary btn-block" (click)="returnClicked()" > Return to Story Edit </a>

  </div>
</div>

&nbsp; &nbsp; &nbsp;
<div *ngIf="viewHTMLMode">

  <div style="font-family: Arial" id="OuterDiv2">
    <br>
    <h2 align="center"> {{storyTitle}} </h2>
    <br><br>
    <!--<p> {{introduction}} </p>-->
    <table style="width: revert">
      <tbody>
      <tr *ngFor="let dummy of ' '.repeat(number_of_scenes).split(''); let i = index">
        <td><img [src]="imageRequests[2*i].blob" [width]="200" [height]="300"></td>
        <td>
          {{markovGeneratedTexts[2*i]}}
          <br>
          {{userEnteredText[2*i]}}
          <br>
          {{markovGeneratedTexts[2*i + 1]}}
          <br>
          {{userEnteredText[2*i + 1]}}
          <br>
        </td>
        <td>
          <img [src]="imageRequests[2*i + 1].blob" [width]="200" [height]="300">
        </td>
        <hr>
      </tr>
      </tbody>
    </table>

  </div>

</div>

<div *ngIf="viewXMLMode">

  <p>


    <!--<tr *ngFor="let sentence in ret; let i = index">-->
    {{xml_file}}

  </p>


</div>

